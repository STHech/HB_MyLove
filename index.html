<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Happy Birthday, MyLove</title>
<style>
  :root{
    --bg1: #dff7ff;
    --bg2: #bfe9ff;
    --accent: #074a68;
    --card: rgba(255,255,255,0.92);
    --glass: linear-gradient(135deg, rgba(255,255,255,0.9), rgba(255,255,255,0.82));
    --shadow: 0 12px 40px rgba(2,18,30,0.12);
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter, Poppins, system-ui, -apple-system, "Segoe UI", Roboto, Arial;color:var(--accent);background:linear-gradient(120deg,var(--bg1),var(--bg2));}
  body::before{
    content:"";
    position:fixed;inset:0;z-index:-2;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1600" height="900"><rect width="100%" height="100%" fill="%23dff7ff"/><g transform="translate(0,0)"><g id="dog"><circle cx="40" cy="40" r="30" fill="%23fff"/><ellipse cx="30" cy="36" rx="5" ry="7" fill="%23000"/><ellipse cx="50" cy="36" rx="5" ry="7" fill="%23000"/><path d="M28 52 q12 10 24 0" stroke="%23000" stroke-width="3" fill="none" stroke-linecap="round"/></g></g><defs></defs></svg>');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    opacity:1;
  }

  .wrap{min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:28px;position:relative;z-index:2}
  .title{font-size:2rem;margin:0 0 12px;text-align:center;text-shadow:0 2px 8px rgba(0,0,0,0.06)}

  .intro{width:min(760px,94%);background:var(--card);padding:20px;border-radius:14px;box-shadow:var(--shadow);text-align:center;border:1px solid rgba(255,255,255,0.6)}
  .question{font-size:1.05rem;margin-bottom:8px}
  .btn-row{display:flex;gap:12px;justify-content:center;margin-top:12px}
  .btn{padding:12px 20px;border-radius:12px;border:0;cursor:pointer;font-weight:700;transition:transform .18s ease,box-shadow .18s ease;background:linear-gradient(180deg,#fff,#f3fbff)}
  .btn.yes{background:linear-gradient(180deg,#3aa0ff,#0078d7);color:#fff;box-shadow:0 10px 26px rgba(0,120,215,0.18)}
  .btn.no{color:var(--accent)}
  .grow{transform:scale(1.35) !important}
  @keyframes shake{0%{transform:translateX(0)}25%{transform:translateX(-10px) rotate(-6deg)}50%{transform:translateX(8px) rotate(6deg)}75%{transform:translateX(-6px) rotate(-3deg)}100%{transform:translateX(0)}}
  .shake{animation:shake .62s ease}

  .surprise{margin-top:26px;width:min(1120px,96%);display:grid;grid-template-columns:1fr 1fr 1fr;gap:18px;opacity:0;transform:translateY(20px);transition:opacity .45s ease,transform .45s ease;pointer-events:none}
  .surprise.visible{opacity:1;transform:translateY(0);pointer-events:auto}
  .card{background:var(--glass);border-radius:12px;padding:14px;min-height:240px;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;position:relative;overflow:hidden;box-shadow:var(--shadow);border:1px solid rgba(255,255,255,0.6)}
  .card h3{margin:8px 0 6px 0;color:var(--accent)}
  .icon-img{width:86px;height:86px;border-radius:12px;object-fit:contain;box-shadow:0 8px 20px rgba(0,0,0,0.08);background:#fff;margin-top:8px;display:flex;align-items:center;justify-content:center;}
  .muted{color:rgba(0,50,80,0.6);font-size:.95rem}

  .view{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%) scale(.98);width:min(860px,94%);max-width:980px;height:min(720px,92%);background:var(--card);border-radius:14px;box-shadow:0 30px 80px rgba(3,20,40,0.22);padding:16px;display:none;flex-direction:column;z-index:40;overflow:auto}
  .view.show{display:flex;animation:popIn .36s ease}
  @keyframes popIn{0%{opacity:0;transform:translate(-50%,-46%) scale(.96)}100%{opacity:1;transform:translate(-50%,-50%) scale(1)}}

  .back-dog{position:absolute;left:14px;top:14px;width:52px;height:52px;border-radius:10px;background:linear-gradient(#fff,#f3fbff);display:flex;align-items:center;justify-content:center;cursor:pointer;border:1px solid rgba(0,0,0,0.06);z-index:60;box-shadow:0 8px 20px rgba(0,0,0,0.12)}
  .back-dog svg{width:44px;height:44px;display:block}

  .big-bouquet{width:100%;display:flex;flex-direction:column;align-items:center;gap:12px}
  .bouquet-img{max-width:520px;width:86%;height:auto;border-radius:14px;box-shadow:0 18px 40px rgba(0,0,0,0.14);border:6px solid rgba(255,255,255,0.9);background:#fff}
  .bouquet-caption{font-weight:600;color:var(--accent);margin-top:6px;text-align:center}

  .poem-text{white-space:pre-wrap;font-size:1.05rem;line-height:1.6;padding:12px;border-radius:10px;background:rgba(255,255,255,0.95);box-shadow:inset 0 4px 12px rgba(0,0,0,0.03)}

  .message-photo{max-width:360px;width:78%;height:auto;border-radius:12px;box-shadow:0 18px 40px rgba(0,0,0,0.12);border:5px solid rgba(255,255,255,0.9)}
  .message-text{
    white-space: pre-wrap;
    font-size:1.05rem;
    line-height:1.5;
    padding:12px;
    border-radius:10px;
    background:rgba(255,255,255,0.95);
    box-shadow:inset 0 4px 12px rgba(0,0,0,0.03);
    text-align:left;
    direction:ltr;
    unicode-bidi:plaintext;
  }

  .hidden{display:none}
  @media (max-width:920px){.surprise{grid-template-columns:1fr}.view{width:min(94%,760px);height:min(86%,86vh)}}

  canvas#confetti{position:fixed;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:200}
</style>
</head>
<body>
<canvas id="confetti"></canvas>

<div class="wrap" id="wrap">
  <h1 class="title">A little surprise üíô</h1>

  <div class="intro" id="introCard" aria-hidden="false">
    <div class="question">Do you want to see it?</div>
    <div class="btn-row" role="group" aria-label="Choose yes or no">
      <button class="btn yes" id="yesBtn">YES</button>
      <button class="btn no" id="noBtn">NO</button>
    </div>
    <div class="muted" style="margin-top:10px">Good Day, Master.</div>
  </div>

  <div class="surprise" id="surpriseArea" aria-hidden="true">
    <div class="card" id="card1" data-box="1" role="button" tabindex="0" aria-label="Open Bouquet">
      <h3>üå∏ Bouquet</h3>
      <div class="icon-img" aria-hidden="true" id="icon1">
        <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><circle cx="32" cy="32" r="28" fill="#fff"/><ellipse cx="25" cy="28" rx="3.8" ry="5.6" fill="#111"/><ellipse cx="39" cy="28" rx="3.8" ry="5.6" fill="#111"/><path d="M24 40 q8 6 16 0" stroke="#111" stroke-width="3" fill="none" stroke-linecap="round"/></svg>
      </div>
      <div class="bouquet-caption">Flowers for the Prettiest Master :P</div>
    </div>

    <div class="card" id="card2" data-box="2" role="button" tabindex="0" aria-label="Open Poem">
  <h3>‚úçÔ∏è Poem</h3>
  <div class="icon-img" id="icon2">
    <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><circle cx="32" cy="32" r="28" fill="#fff"/><ellipse cx="25" cy="28" rx="3.8" ry="5.6" fill="#111"/><ellipse cx="39" cy="28" rx="3.8" ry="5.6" fill="#111"/><path d="M24 40 q8 6 16 0" stroke="#111" stroke-width="3" fill="none" stroke-linecap="round"/></svg>
  </div>
  <div class="muted" style="margin-top:12px"><strong>Poem for the best Poet</strong></div>
</div>

<div class="card" id="card3" data-box="3" role="button" tabindex="0" aria-label="Open Message">
  <h3>üíå Message</h3>
  <div class="icon-img" id="icon3">
    <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><circle cx="32" cy="32" r="28" fill="#fff"/><ellipse cx="25" cy="28" rx="3.8" ry="5.6" fill="#111"/><ellipse cx="39" cy="28" rx="3.8" ry="5.6" fill="#111"/><path d="M24 40 q8 6 16 0" stroke="#111" stroke-width="3" fill="none" stroke-linecap="round"/></svg>
  </div>
  <div class="muted" style="margin-top:12px"><strong>Birthday message for Master</strong></div>
</div>
  </div>
</div>

<div style="position:fixed;right:16px;bottom:16px;z-index:60">
  <label class="btn" style="padding:8px 12px;border-radius:10px;display:inline-flex;align-items:center;gap:8px;background:linear-gradient(#fff,#eef9ff);cursor:pointer">
    Choose BG Music
    <input id="musicInput" type="file" accept="audio/*" style="display:none">
  </label>
  <audio id="bgMusic" loop></audio>
</div>

<div class="view" id="view1" aria-hidden="true">
  <div class="back-dog" id="back1" title="Back">
    <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><circle cx="32" cy="32" r="28" fill="#fff"/><ellipse cx="25" cy="28" rx="3.8" ry="5.6" fill="#111"/><ellipse cx="39" cy="28" rx="3.8" ry="5.6" fill="#111"/><path d="M24 40 q8 6 16 0" stroke="#111" stroke-width="3" fill="none" stroke-linecap="round"/></svg>
  </div>
  <h2 style="text-align:center;margin-top:6px">üå∏ Bouquet</h2>
  <div style="flex:1;display:flex;flex-direction:column;align-items:center;gap:12px;padding:12px">
    <div class="big-bouquet">
      <img id="bouquetLarge" class="bouquet-img" src="" alt="Your bouquet photo" style="display:none">
      <div class="bouquet-caption">Flowers for the Prettiest Master :P</div>
      <label class="btn" style="padding:8px 12px;border-radius:10px;cursor:pointer">
        Upload Bouquet Photo
        <input id="bouquetInput" type="file" accept="image/*" style="display:none">
      </label>
    </div>
  </div>
</div>

<div class="view" id="view2" aria-hidden="true">
  <div class="back-dog" id="back2" title="Back">
    <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><circle cx="32" cy="32" r="28" fill="#fff"/><ellipse cx="25" cy="28" rx="3.8" ry="5.6" fill="#111"/><ellipse cx="39" cy="28" rx="3.8" ry="5.6" fill="#111"/><path d="M24 40 q8 6 16 0" stroke="#111" stroke-width="3" fill="none" stroke-linecap="round"/></svg>
  </div>
  <h2 style="text-align:center;margin-top:6px">‚úçÔ∏è Poem</h2>
  <div style="flex:1;padding:12px;overflow:auto;display:flex;flex-direction:column;gap:12px">
    <textarea id="poemArea" class="poem-text" style="min-height:320px">Roses blue, skies so true,
A smile that brightens every hue.
On this day I wish for you,
Laughter, love, and dreams come through.</textarea>
    <div style="display:flex;gap:10px;justify-content:center">
      <button class="btn" id="savePoem">Save Poem</button>
      <button class="btn" id="resetPoem">Reset</button>
    </div>
  </div>
</div>

<div class="view" id="view3" aria-hidden="true">
  <div class="back-dog" id="back3" title="Back">
    <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg"><circle cx="32" cy="32" r="28" fill="#fff"/><ellipse cx="25" cy="28" rx="3.8" ry="5.6" fill="#111"/><ellipse cx="39" cy="28" rx="3.8" ry="5.6" fill="#111"/><path d="M24 40 q8 6 16 0" stroke="#111" stroke-width="3" fill="none" stroke-linecap="round"/></svg>
  </div>
  <h2 style="text-align:center;margin-top:6px">üíå Message</h2>
  <div style="flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:12px;gap:12px">
    <img id="msgPhoto" class="message-photo" src="" alt="Message photo" style="display:none">
    <div id="typingArea" class="message-text" aria-live="polite"></div>
    <label class="btn" style="padding:8px 12px;border-radius:10px;cursor:pointer">
      Upload Photo for Message
      <input id="messagePhotoInput" type="file" accept="image/*" style="display:none">
    </label>
  </div>
</div>

<script>
/* ------------------------
   Elements & config
   ------------------------ */
const yesBtn = document.getElementById('yesBtn');
const noBtn = document.getElementById('noBtn');
const introCard = document.getElementById('introCard');
const surpriseArea = document.getElementById('surpriseArea');

const card1 = document.getElementById('card1');
const card2 = document.getElementById('card2');
const card3 = document.getElementById('card3');

const view1 = document.getElementById('view1');
const view2 = document.getElementById('view2');
const view3 = document.getElementById('view3');

const back1 = document.getElementById('back1');
const back2 = document.getElementById('back2');
const back3 = document.getElementById('back3');

const bouquetInput = document.getElementById('bouquetInput');
const bouquetLarge = document.getElementById('bouquetLarge');

const messagePhotoInput = document.getElementById('messagePhotoInput');
const msgPhoto = document.getElementById('msgPhoto');

const musicInput = document.getElementById('musicInput');
const bgMusic = document.getElementById('bgMusic');

const poemArea = document.getElementById('poemArea');
const savePoem = document.getElementById('savePoem');
const resetPoem = document.getElementById('resetPoem');

const typingArea = document.getElementById('typingArea');

/* ------------------------
   Intro Buttons
   ------------------------ */
yesBtn.addEventListener('click',()=>{
  introCard.style.display='none';
  surpriseArea.classList.add('visible');
});

// NO button shake + run-away
noBtn.addEventListener('mouseenter',()=>{
  noBtn.classList.add('shake');
  setTimeout(()=>noBtn.classList.remove('shake'),620);
});

let moveInterval;
noBtn.addEventListener('mousemove',()=>{
  clearInterval(moveInterval);
  moveInterval = setInterval(()=>{
    const x = Math.random() * 200 - 100;
    const y = Math.random() * 100 - 50;
    noBtn.style.transform = `translate(${x}px, ${y}px)`;
  }, 300);
});

noBtn.addEventListener('mouseleave', ()=>{
  clearInterval(moveInterval);
  noBtn.style.transform = `translate(0,0)`;
});

noBtn.addEventListener('click', ()=>{
  alert("Haha, you can't escape the surprise! üíô");
  introCard.style.display='none';
  surpriseArea.classList.add('visible');
});

/* ------------------------
   Open / Close Cards
   ------------------------ */
card1.addEventListener('click',()=>{view1.classList.add('show')});
card2.addEventListener('click',()=>{view2.classList.add('show')});
card3.addEventListener('click',()=>{view3.classList.add('show')});

back1.addEventListener('click',()=>{view1.classList.remove('show')});
back2.addEventListener('click',()=>{view2.classList.remove('show')});
back3.addEventListener('click',()=>{view3.classList.remove('show')});

/* ------------------------
   File Uploads
   ------------------------ */
bouquetInput.addEventListener('change',e=>{
  const file = e.target.files[0];
  if(file){
    bouquetLarge.src = URL.createObjectURL(file);
    bouquetLarge.style.display = 'block';
  }
});

messagePhotoInput.addEventListener('change',e=>{
  const file = e.target.files[0];
  if(file){
    msgPhoto.src = URL.createObjectURL(file);
    msgPhoto.style.display = 'block';
  }
});

musicInput.addEventListener('change',e=>{
  const file = e.target.files[0];
  if(file){
    bgMusic.src = URL.createObjectURL(file);
    bgMusic.play();
  }
});

/* ------------------------
   Poem Save / Reset
   ------------------------ */
savePoem.addEventListener('click',()=>{alert('Poem saved locally!')});
resetPoem.addEventListener('click',()=>{poemArea.value=`Roses blue, skies so true,
A smile that brightens every hue.
On this day I wish for you,
Laughter, love, and dreams come through.`});

/* ------------------------
   Typing effect
   ------------------------ */
const messageText=`To my "Dito Sa'kin", "Binhi", "Alipin", "Passenger Seat", "Di nakakasawa", and now my "Seasons", Happy Birthday! üéâ It is an honor to be part of your life and to get to know you. I hope it has been a great year for you.

May this day be as special as you are. Know that I'll always pray for this year and all the years to come to be gentle and full of love for you. Hopefully, A year with a more not so scary version of you. A year with a much caring version of you. Nevertheless, I'll always treasure every version of you‚Äîthe known and the unknown. Every scary. Every brave. Every silent. Every loud. Every weak. Every strong. Every happy. Every sad. Every worried. Every proud. Every mad. Every calm. Every clueless. Every carefree. And all the versions of you yet to unfold. 

Therefore, my gift for you is my genuine love‚Äîthe greatest gift you'll ever receive, because it is the love that surpasses all. 

Again, Happy Birthday, Master.`;
let idx=0;
function typeWriter(){
  if(idx<messageText.length){
    typingArea.textContent+=messageText[idx++];
    setTimeout(typeWriter,50);
  }
}
typeWriter();
</script>
</body>
</html>
